The purpose of this Vagrent file is to support integration testing of Hyperfoil with 3Scale AMP.
The one Vagrant file provides a number of VMs

* Vertx cluster to serve requests
* Injector driver cluster to generate requests

These two clusters provide enough for testing the Ansible scripts.

Workflow

$ vagrant up --no-parallel
$ vagrant ssh injector-controller --command "cd /home/vagrant/perftest-toolkit/deployment;ansible-playbook -i /vagrant/3scale.csv -i /vagrant/injector-cluster.hosts /home/vagrant/perftest-toolkit/deployment/injector.yml -e injector_target_port=8099 -e csv_file_path=/vagrant "

The above commands starts up the cluster in sequential order. Provisioning a base platform with the latest security updates for the release. Ansible is used to set up the load driver and start a test run. Ansible uses an inventory plugin to read a CSV file.
 This CSV file is expected to be generated by Buddhi. To configure 3Scale AMP.
 In this scenario we are testing the injector driver to push load at API services. Without 3Scale AMP. Instead using hostnames in the CSV to configure Hyperfoil drivers.

Dependencies

https://rubygems.org/gems/vagrant-hostmanager

Install either using the Vagrant plugin command or, using your platform package manager. eg

$ sudo dnf install vagrant-hostmanager

